Ráº¥t hay ğŸ‘ â€” cÃ¢u há»i nÃ y cho tháº¥y báº¡n Ä‘ang muá»‘n hiá»ƒu cÆ¡ cháº¿ â€œbÃªn trong React Routerâ€ tháº­t sá»± hoáº¡t Ä‘á»™ng tháº¿ nÃ o, chá»© khÃ´ng chá»‰ â€œxÃ i Ä‘Æ°á»£câ€.

Ok, mÃ¬nh sáº½ Ä‘i sÃ¢u á»Ÿ cáº¥p Ä‘á»™ â€œbÃªn trongâ€ â€” giÃºp báº¡n hiá»ƒu Ä‘iá»u gÃ¬ xáº£y ra khi báº¡n click vÃ o má»™t link trong Header, tá»« Ä‘áº§u Ä‘áº¿n cuá»‘i, tá»«ng táº§ng React xá»­ lÃ½ ra sao.

ğŸ¯ Giáº£ sá»­ báº¡n Ä‘ang á»Ÿ trang /Home, vÃ  báº¡n báº¥m vÃ o link â€œPhonesâ€

Cá»¥ thá»ƒ:

<Link to="/Phones">Phones</Link>

ğŸ§© BÆ°á»›c 1. Báº¡n click vÃ o link

Náº¿u báº¡n dÃ¹ng <a href="/Phones">, trÃ¬nh duyá»‡t sáº½ reload láº¡i trang má»›i â†’ táº£i láº¡i index.html, máº¥t toÃ n bá»™ state.

NhÆ°ng <Link> tá»« react-router-dom cháº·n hÃ nh vi reload nÃ y.

ğŸ’¡ Cá»¥ thá»ƒ:
<Link> cÃ³ event onClick bÃªn trong, khi báº¡n click:

event.preventDefault(); // cháº·n reload trang


Sau Ä‘Ã³, nÃ³ gá»i hÃ m ná»™i bá»™ navigate("/Phones") Ä‘á»ƒ thay Ä‘á»•i URL báº±ng JavaScript mÃ  khÃ´ng táº£i láº¡i trang.

ğŸ§  BÆ°á»›c 2. Router thay Ä‘á»•i URL â€œáº£oâ€ (SPA)

react-router-dom sá»­ dá»¥ng HTML5 History API, cá»¥ thá»ƒ lÃ :

window.history.pushState({}, '', '/Phones');


Äiá»u nÃ y:

Thay Ä‘á»•i thanh Ä‘á»‹a chá»‰ trÃ¬nh duyá»‡t thÃ nh /Phones

NhÆ°ng khÃ´ng gá»­i request má»›i lÃªn server

KhÃ´ng reload trang

KhÃ´ng phÃ¡ há»§y React component Ä‘ang cháº¡y

NÃ³i cÃ¡ch khÃ¡c, báº¡n vá»«a â€œchuyá»ƒn trangâ€ mÃ  khÃ´ng rá»i khá»i trang tháº­t ğŸ˜

ğŸ”„ BÆ°á»›c 3. Router phÃ¡t hiá»‡n thay Ä‘á»•i URL

Khi BrowserRouter khá»Ÿi táº¡o, nÃ³:

Láº¯ng nghe sá»± kiá»‡n popstate (má»—i khi URL thay Ä‘á»•i)

LÆ°u URL hiá»‡n táº¡i vÃ o React state ná»™i bá»™

Khi báº¡n báº¥m Link, URL Ä‘á»•i â†’ Router cáº­p nháº­t state:

currentPath = "/Phones"


Khi currentPath thay Ä‘á»•i â†’ React render láº¡i (re-render) pháº§n <Routes> bÃªn trong.

ğŸ§© BÆ°á»›c 4. <Routes> cháº¡y logic â€œmatch routeâ€

Giá» React Router sáº½ kiá»ƒm tra tá»«ng <Route> con:

<Route path='/' element={<HomePage />} />
<Route path='/Home' element={<HomePage />} />
<Route path='/Phones' element={<PhonesPage />} />


NÃ³ sáº½ so khá»›p theo path pattern matching (dá»±a vÃ o currentPath).

URL hiá»‡n táº¡i lÃ  /Phones

NÃ³ match Ä‘Ãºng path="/Phones"

VÃ¬ váº­y, Router sáº½ render:

<PhonesPage />

ğŸ¨ BÆ°á»›c 5. React render láº¡i UI

LÃºc nÃ y React thá»±c hiá»‡n:

Giá»¯ nguyÃªn <Header /> (vÃ¬ náº±m ngoÃ i <Routes>)

Giá»¯ nguyÃªn <Footer /> (vÃ¬ náº±m ngoÃ i <Router> hoáº·c <Routes>)

Thay component trong <Routes> báº±ng <PhonesPage />

Káº¿t quáº£:
ğŸ‘‰ Giao diá»‡n Ä‘á»•i sang trang â€œPhonesâ€ tá»©c thÃ¬,
ğŸ‘‰ KhÃ´ng máº¥t tráº¡ng thÃ¡i (state),
ğŸ‘‰ KhÃ´ng reload trang,
ğŸ‘‰ KhÃ´ng request láº¡i server.

ğŸ’¾ BÆ°á»›c 6. (TÃ¹y chá»n) Browser Back / Forward váº«n hoáº¡t Ä‘á»™ng

Nhá» History API, náº¿u báº¡n nháº¥n Back:

TrÃ¬nh duyá»‡t phÃ¡t sá»± kiá»‡n popstate

BrowserRouter báº¯t sá»± kiá»‡n Ä‘Ã³

Cáº­p nháº­t láº¡i currentPath thÃ nh /Home

React render láº¡i <HomePage />

Má»i thá»© hoáº¡t Ä‘á»™ng nhÆ° website bÃ¬nh thÆ°á»ng, nhÆ°ng táº¥t cáº£ chá»‰ lÃ  client-side navigation (Ä‘iá»u hÆ°á»›ng phÃ­a client).

ğŸ§  Tá»•ng káº¿t cÆ¡ cháº¿
Giai Ä‘oáº¡n	Äiá»u gÃ¬ xáº£y ra
1. Click Link	preventDefault() â†’ cháº·n reload
2. Update URL	window.history.pushState() thay Ä‘á»•i thanh Ä‘á»‹a chá»‰
3. Router cáº­p nháº­t state	LÆ°u URL má»›i (/Phones) vÃ o React state
4. Routes so khá»›p	TÃ¬m <Route path='/Phones'>
5. React re-render	Render láº¡i pháº§n <Routes> â†’ hiá»ƒn thá»‹ PhonesPage
6. Header/Footer giá»¯ nguyÃªn	VÃ¬ náº±m ngoÃ i <Routes>
7. Back/Forward hoáº¡t Ä‘á»™ng	VÃ¬ dÃ¹ng History API chuáº©n

+--------------------------------------------------+
| Header (cá»‘ Ä‘á»‹nh)                                 |
+--------------------------------------------------+
| Routes                                           |
|   â”œâ”€â”€ "/" â†’ HomePage (trÆ°á»›c khi click)           |
|   â””â”€â”€ "/Phones" â†’ PhonesPage (sau khi click)     |
+--------------------------------------------------+
| Footer (cá»‘ Ä‘á»‹nh)                                 |
+--------------------------------------------------+

Báº¡n click â€œPhonesâ€ â†’
â†’ React Router Ä‘á»•i URL, match route má»›i
â†’ Render PhonesPage (thay HomePage)
â†’ Header/Footer váº«n nguyÃªn.
âš¡ VÃ  Ä‘iá»ƒm máº¥u chá»‘t

React Router khÃ´ng â€œchuyá»ƒn trangâ€ tháº­t,
mÃ  â€œÄ‘Ã¡nh lá»«aâ€ trÃ¬nh duyá»‡t báº±ng cÃ¡ch thay Ä‘á»•i URL trong bá»™ nhá»›,
rá»“i render láº¡i má»™t pháº§n trong React.

ÄÃ³ lÃ  lÃ½ do React App gá»i lÃ  Single Page Application (SPA) â€” chá»‰ cÃ³ má»™t file HTML, nhÆ°ng nhiá»u â€œtrang áº£oâ€.